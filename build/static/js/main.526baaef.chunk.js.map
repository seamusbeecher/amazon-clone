{"version":3,"sources":["StateProvider.js","firebase.js","components/Header.js","components/Product.js","components/Home.js","Reducer.js","components/Subtotal.js","components/CheckoutProduct.js","components/Checkout.js","components/Login.js","axios.js","components/Payment.js","components/Order.js","components/Orders.js","App.js","reportWebVitals.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Home","data-image","data-image-dimensions","data-image-focal-point","data-load","data-image-id","data-type","data-image-resolution","getBasketTotal","reduce","amount","state","action","console","log","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","hideButton","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","succeeded","setSucceeded","processing","setProcessing","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.526baaef.chunk.js","sourcesContent":["// Data Layer\nimport React, { createContext, useContext, useReducer } from 'react';\n\n// Prepares the data layer\nexport const StateContext = createContext();\n\n// Wrap our app and provide data layer\nexport const StateProvider = ({ reducer, initialState, children }) => (\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\n        {children}\n    </StateContext.Provider>\n);\n\n// Pull information from data layer\nexport const useStateValue = () => useContext(StateContext)","import firebase from 'firebase';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDeUYxcCss4U4fXNYzKcGoBChemmPO1l1c\",\n    authDomain: \"clone-409d0.firebaseapp.com\",\n    projectId: \"clone-409d0\",\n    storageBucket: \"clone-409d0.appspot.com\",\n    messagingSenderId: \"944133283177\",\n    appId: \"1:944133283177:web:0200372f2d8742e03d71f8\"\n  };\n\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\n\n  const db = firebaseApp.firestore();\n\n  const auth = firebase.auth();\n\n  export { db, auth };","import React from 'react';\nimport './Header.css';\nimport SearchIcon from '@material-ui/icons/Search';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport { Link } from 'react-router-dom';\nimport { useStateValue } from '../StateProvider';\nimport { auth } from '../firebase';\n\nfunction Header() {\n\n    const [{ basket, user }, dispatch] = useStateValue();\n\n    const handleAuthentication = () => {\n        if (user) {\n            auth.signOut();\n        }\n    }\n\n    return (\n        <div className='header'>\n\n            <Link to='/'>\n                <img className='header-logo' src='http://pngimg.com/uploads/amazon/amazon_PNG11.png' alt=''/>\n            </Link>\n            \n\n            <div className='header-search'>\n                <input className='header-searchInput' type='text'/>\n\n                <SearchIcon className='header-searchIcon'/>\n            </div>\n\n            <div className='header-nav'>\n                <Link to={!user && '/login'}>\n                    <div  onClick={handleAuthentication} className='header-option'>\n                        <span className='header-option-lineone'>Hello {!user ? 'Guest' : user.email}</span>\n                        <span className='header-option-linetwo'> {user ? 'Sign Out' : 'Sign In'} </span>\n                    </div>\n                </Link>\n\n                <Link to='/orders'>\n                    <div className='header-option'>\n                        <span className='header-option-lineone'>Returns</span>\n                        <span className='header-option-linetwo'>Orders</span>\n                    </div>\n                </Link>\n                \n\n                <div className='header-option'>\n                    <span className='header-option-lineone'>Your</span>\n                    <span className='header-option-linetwo'>Prime</span>\n                </div>\n\n                <Link to='/checkout'>\n                    <div className='header-optionBasket'>\n                        <ShoppingBasketIcon />\n                        <span className='header-option-linetwo header-basketCount'>\n                            {basket.length}\n                        </span>\n                    </div>\n                </Link>\n                \n            </div>\n\n            \n        </div>\n    )\n}\n\nexport default Header\n","import React from 'react';\nimport './Product.css';\nimport { useStateValue } from '../StateProvider';\n\nfunction Product({ id, title, image, price, rating }) {\n\n    const [{basket}, dispatch] = useStateValue();\n\n    // console.log('Items in the basket', basket);\n\n    const addToBasket = () => {\n        // Dispatch item into data layer\n        dispatch ({\n            type: 'ADD-TO-BASKET',\n            item: {\n                id: id,\n                title: title,\n                image: image,\n                price: price,\n                rating: rating,\n            },\n        });\n    };\n\n    return (\n        <div className='product'>\n            <div className='product-info'>\n                <p> {title} </p>\n\n                <p className='product-price'>\n                    <small>$</small>\n                    <strong> {price} </strong>\n                </p>\n\n                <div className='product-rating'>\n                    {Array(rating)\n                    .fill()\n                    .map((_, i) => (\n                        <p>⭐</p>\n                    ))}\n                </div>\n            </div>\n\n            <img className='product-image' src={image}  alt=''/>\n\n            <button className='product-button' onClick={addToBasket}>Add to Basket</button>\n\n        </div>\n    )\n}\n\nexport default Product\n","import React from 'react'\nimport './Home.css';\nimport Product from './Product';\n\nfunction Home() {\n    return (\n        <div className='home'>\n            <div className='home-container'>\n                <img className='home-image' src='https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg' alt=''/>\n            </div>\n\n            <div className='home-row'>\n                <Product \n                    id=\"123123123\"\n                    title=\"The Lean Startup\" \n                    price={ 29.99 } \n                    image=\"https://miro.medium.com/max/1400/1*zxtMIuwC0eMGDAQ8gkCtcg.jpeg\"\n                    rating={ 3 }/>\n\n                <Product \n                    id=\"456454\"\n                    title=\"Beats Head Phones\" \n                    price={ 99.99 } \n                    image=\"https://images.squarespace-cdn.com/content/v1/532c63dde4b02b8c350fbb19/1508693644241-D4SSF1K01FHINWFT77M5/ke17ZwdGBToddI8pDm48kHUbwavCmVK2ZfNyKM0ywlh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UUFRdWB0JB7OFc3V-DqUC8L9vepxxPP_Qyvb8S8ezEDk6nAENlVG3LGGTjPVbFT-SA/BeatsByDre_Scene_Blue_01_01.jpg\" data-image=\"https://images.squarespace-cdn.com/content/v1/532c63dde4b02b8c350fbb19/1508693644241-D4SSF1K01FHINWFT77M5/ke17ZwdGBToddI8pDm48kHUbwavCmVK2ZfNyKM0ywlh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UUFRdWB0JB7OFc3V-DqUC8L9vepxxPP_Qyvb8S8ezEDk6nAENlVG3LGGTjPVbFT-SA/BeatsByDre_Scene_Blue_01_01.jpg\" data-image-dimensions=\"2000x1414\" data-image-focal-point=\"0.5,0.5\" data-load=\"false\" data-image-id=\"59ecd684bce176c74bc6ee7a\" data-type=\"image\" alt=\"BeatsByDre_Scene_Blue_01_01.jpg\" data-image-resolution=\"2500w\" src=\"https://images.squarespace-cdn.com/content/v1/532c63dde4b02b8c350fbb19/1508693644241-D4SSF1K01FHINWFT77M5/ke17ZwdGBToddI8pDm48kHUbwavCmVK2ZfNyKM0ywlh7gQa3H78H3Y0txjaiv_0fDoOvxcdMmMKkDsyUqMSsMWxHk725yiiHCCLfrh8O1z5QPOohDIaIeljMHgDF5CVlOqpeNLcJ80NK65_fV7S1UUFRdWB0JB7OFc3V-DqUC8L9vepxxPP_Qyvb8S8ezEDk6nAENlVG3LGGTjPVbFT-SA/BeatsByDre_Scene_Blue_01_01.jpg?format=2500w\"\n                    rating={ 5 }/>\n\n            </div>\n\n            <div className='home-row'>\n                <Product \n                    id=\"98765345\"\n                    title=\"Logitech Keyboard\" \n                    price={ 89.99 } \n                    image=\"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6360/6360844_sd.jpg\"\n                    rating={ 4 }/>\n\n                <Product \n                    id=\"28745332\"\n                    title=\"Logitech Mouse\" \n                    price={ 49.99 } \n                    image=\"https://resource.logitechg.com/content/dam/gaming/en/products/pro-wireless-gaming-mouse/pro-wireless-carbon-gallery-1.png\"\n                    rating={ 4 }/>\n\n                <Product \n                    id=\"0526785\"\n                    title=\"Logitech Headset\" \n                    price={ 39.99 } \n                    image=\"https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6320/6320789_rd.jpg\"\n                    rating={ 3 }/>\n                \n            </div>\n\n            <div className='home-row'>\n                <Product \n                    id=\"7910373\"\n                    title=\"Surfboard\" \n                    price={ 399.99 } \n                    image=\"https://cdn.shopify.com/s/files/1/0411/9757/products/OptimistPrymeGlassDeck_e705e7b2-b132-465a-8f14-685262701a7d.jpg?v=1575931601\"\n                    rating={ 3 }/>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","export const initialState = {\n    basket: [],\n    user: null\n};\n\n// Selector\nexport const getBasketTotal = (basket) => \n        basket.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n\n    console.log(action);\n\n    switch(action.type) {\n        case 'ADD-TO-BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n\n        case 'EMPTY-BASKET':\n            return {\n                ...state,\n                basket: []\n            }\n\n        case 'REMOVE-FROM-BASKET':\n            const index = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id\n            );\n\n            let newBasket = [...state.basket];\n\n            if (index >= 0) {\n                newBasket.splice(index, 1);\n            } else {\n                console.warn(\n                    'Can not remove product (id: ${action.id}) as it is not in basket!'\n                )\n            }\n\n            return {\n                ...state,\n                basket: newBasket,\n            };\n\n        case 'SET-USER':\n            return {\n                ...state,\n                user: action.user\n            }\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import React from 'react'\nimport './Subtotal.css'\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from '../Reducer';\nimport { useStateValue } from '../StateProvider';\nimport { useHistory} from 'react-router-dom';\n\nfunction Subtotal() {\n\n    const history = useHistory();\n    const [{ basket }] = useStateValue();\n\n    return (\n        <div className='subtotal'>\n\n            <CurrencyFormat\n                renderText={(value) => (\n                    <>\n                        <p>\n                            Subtotal ({basket.length} items): <strong> {value} </strong>\n                        </p>\n                        <small className='subtotal-gift'>\n                            <input type='checkbox' /> This order contains a gift\n                        </small>\n                    </>\n                )}\n                decimalScale={2}\n                value={getBasketTotal(basket)}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />\n\n            \n            <button className='subtotal-button' onClick={e => history.push('/payment')}> Proceed to Checkout</button>\n\n        </div>\n    )\n}\n\nexport default Subtotal\n","import React from 'react'\nimport './CheckoutProduct.css'\nimport { useStateValue } from '../StateProvider';\n\nfunction CheckoutProduct({id, image, title, price, rating, hideButton}) {\n\n    const [{basket}, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        dispatch ({\n            type: 'REMOVE-FROM-BASKET',\n            id: id,\n        })\n    }\n\n    return (\n        <div className='CheckoutProduct'>\n            <img className='checkoutProduct-img' src={image} alt=''/>\n\n            <div className='checkoutProduct-info'>\n                <p className='checkoutProduct-title'> {title} </p>\n\n                <p className='checkoutProduct-price'> \n                    <small> $ </small>\n                    <strong> {price} </strong>\n                </p>\n\n                <div className='checkoutProduct-rating'>\n                    {Array(rating)\n                    .fill()\n                    .map(() => (\n                        <p>⭐</p>\n                    ))}\n                </div>\n                {!hideButton && (\n                    <button onClick={removeFromBasket}> Remove from Basket </button>\n                )}   \n            </div>\n\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","import React from 'react';\nimport './Checkout.css';\nimport Subtotal from './Subtotal';\nimport { useStateValue } from '../StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { userInfo } from 'os';\n\nfunction Checkout() {\n\n    const [{ basket, user }] = useStateValue();\n\n    // console.log('Items in the basket', basket);\n\n    return (\n        <div className='checkout'>\n\n            <div className='checkout-left'>\n                <img className='checkout-ad' src='https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg' alt=''/>\n\n                <div>\n                     <h3>Hello, {user?.email}</h3> {/*Optional Chaining shows error */}\n                    <h2 className='checkout-title'> Your Shopping Basket </h2>\n\n                    {basket.map(item => (\n                     <CheckoutProduct \n                    id={item.id}\n                    title={item.title}\n                    image={item.image}\n                    price={item.price} \n                    rating={item.rating}\n                    />\n                    ))}\n                </div>\n            </div>\n\n            <div className='checkout-right'>\n                <Subtotal />\n            </div>\n\n        </div>\n    )\n}\n\nexport default Checkout\n","import React, { useState } from 'react';\nimport './Login.css'\nimport { Link, useHistory } from 'react-router-dom';\nimport { auth } from '../firebase.js'\n\nfunction Login() {\n\n    const history = useHistory();\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    // Login user\n    const signIn = e => {\n        e.preventDefault(); //stop refreshing page\n\n        auth.signInWithEmailAndPassword(email, password)\n        .then((auth) => {\n            history.push('/')\n        })\n        .catch(error => alert(error.message))\n    }\n\n    // Create new user\n    const register = e => {\n        e.preventDefault();\n\n        auth.createUserWithEmailAndPassword(email, password)\n        .then((auth) => {\n            console.log(auth);\n            if (auth) {\n                history.push('/')\n            }\n        })\n        .catch(error => alert(error.message))\n    }\n\n    return (\n        <div className='login'>\n            <Link to='/'>\n                <img className='login-logo' src='https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png' alt='' />\n            </Link>\n\n            <div className='login-container' >\n                <h1>Sign-In</h1>\n\n                <form>\n                    <h5>Email</h5>\n                    <input \n                        type='text' \n                        value={email} \n                        onChange={e => setEmail(e.target.value)}\n                    />\n\n                    <h5>Password</h5>\n                    <input \n                        type='password' \n                        value={password}\n                        onChange={e => setPassword(e.target.value)}\n                    />\n\n                    <button className='login-signin-button' type='submit' onClick={signIn}>Sign In</button>\n                </form>\n\n                <p>\n                    By sign-in you agree to Amazon Fake Clone's Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\n                </p>\n\n                <button className='login-register-button' onClick={register}>Create Your Amazon Account</button>\n\n            </div>\n            \n        </div>\n    )\n}\n\nexport default Login\n","import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://us-central1-clone-409d0.cloudfunctions.net/api' //API URL (Cloud Function)\n    // 'http://localhost:5001/clone-409d0/us-central1/api' (TEXT API)\n});\n\nexport default instance;","import React, { useState, useEffect } from 'react'\nimport './Payment.css'\nimport { useStateValue } from '../StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { Link, useHistory } from 'react-router-dom';\nimport { CardElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from '../Reducer';\nimport axios from '../axios';\nimport { db } from '../firebase';\n\nfunction Payment() {\n\n    const [{ basket, user}, dispatch] = useStateValue();\n    const history = useHistory();\n\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState('');\n    const [clientSecret, setClientSecret] = useState(true);\n\n    useEffect(() => {\n        //Generate stripe secret, allows to charge customer\n        const getClientSecret = async () => {\n            const response = await axios({\n                    method: 'post',\n                    //Stripe expects the total in a currencies subnunits\n                    url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n\n        getClientSecret();\n    }, [basket])\n\n    console.log('The secret is >>> ', clientSecret);\n\n    //Stripe\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setProcessing(true);\n\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({ paymentIntent }) => {\n            //paymentIntent = payment confirmation\n\n            // Push into database\n            db.collection('users')\n            .doc(user.uid)\n            .collection('orders')\n            .doc(paymentIntent.id)\n            .set({\n                basket: basket,\n                amount: paymentIntent.amount,\n                created: paymentIntent.created\n            })\n\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n\n            dispatch({\n                type: 'EMPY-BASKET'\n            })\n\n            history.replace('/orders')\n        })\n    }\n\n    const handleChange = event => {\n        //Listen for changes in CardElement, then display any errors with card details\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : '');\n    }\n\n    return (\n        <div className='payment'>\n            <div className='payment-container'>\n\n                <h1>\n                    Checkout (<Link to='/checkout'>{basket.length} items</Link>)\n                </h1>\n\n                {/* Payment section -- delivery address */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className='payment-address'>\n                        <p>{user?.email}</p> {/*Optional Chaining shows error */}\n                        <p>123 React Lane</p>\n                        <p>Charlotte, NC</p>\n                    </div>\n\n                </div>\n\n                {/* Payment section -- review items */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className='payment-items'>\n                        {basket.map(item => (\n                            <CheckoutProduct \n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n\n                </div>\n\n                {/* Payment section -- payment method */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className='payment-details'>\n                        {/* Stripe */}\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange}/>\n\n                            <div className='payment-priceContainer'>\n                            <CurrencyFormat\n                                renderText={(value) => (\n                                    <h3>Order Total: {value} </h3>\n                                )}\n                                decimalScale={2}\n                                value={getBasketTotal(basket)}\n                                displayType={\"text\"}\n                                thousandSeparator={true}\n                                prefix={\"$\"}\n                            />\n\n                            <button disabled={processing || disabled || succeeded}>\n                                <span>{processing ? <p>Processing</p> : 'Buy Now'}</span>\n                            </button>\n                            </div>\n\n                            {/* ERROR */}\n                            {error && <div>{error}</div>}\n\n                        </form>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default Payment\n","import React from 'react'\nimport './Order.css';\nimport moment from 'moment';\nimport CheckoutProduct from './CheckoutProduct';\nimport CurrencyFormat from 'react-currency-format';\n\nfunction Order({ order }) {\n    return (\n        <div className='order'>\n            <h2>Order</h2>\n            <p>{moment.unix(order.data.created).format('MMMM Do YYYY, h:mma')}</p>\n            <p className='order-id'>\n                <small>{order.id}</small>\n            </p>\n            {order.data.basket.map(item => (\n                <CheckoutProduct \n                id={item.id}\n                title={item.title}\n                image={item.image}\n                price={item.price} \n                rating={item.rating}\n                hideButton\n                />\n            ))}\n            <CurrencyFormat\n                renderText={(value) => (\n                    <h3 className='order-total'>Order Total: {value}</h3>\n                )}\n                decimalScale={2}\n                value={order.data.amount / 100}\n                displayType={\"text\"}\n                thousandSeparator={true}\n                prefix={\"$\"}\n            />\n        </div>\n    )\n}\n\nexport default Order\n","import React, { useState, useEffect } from 'react';\nimport './Orders.css';\nimport { db } from '../firebase';\nimport { useStateValue } from '../StateProvider';\nimport Order from './Order';\n\nfunction Orders() {\n\n    const [{ basket, user }, dispatch] = useStateValue();\n    const [orders, setOrders] = useState([]);\n\n    useEffect(() => {\n\n        if (user) {\n            db.collection('users')\n            .doc(user.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => (\n                setOrders(snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            ))\n        } else {\n            setOrders([])\n        }\n    }, [user])\n\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n\n            <div className='orders-order'>\n                {orders.map(order => (\n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport Checkout from './components/Checkout';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Login from './components/Login';\nimport { auth } from './firebase.js';\nimport { useStateValue } from './StateProvider.js';\nimport Payment from './components/Payment';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport Orders from './components/Orders';\n\nconst promise = loadStripe('pk_test_51I4VOLAUqL3nWbrfcWDSznQNc0qIiCoChHobRZ5Q50LdUKJJWrYCkxPw3cb0VU175RizqYMQRnGgp3dyrYzEbbiM00oQexu0V6');\n\nfunction App() {\n\n  const [{ }, dispatch] = useStateValue();\n\n  // will only run one time once the app is loaded -- []\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n      console.log('USER IS >>> ', authUser);\n\n      if (authUser) {\n        //user just or was login\n        dispatch({\n          type: 'SET-USER',\n          user: authUser\n        })\n      } else {\n        //user loged out\n        dispatch({\n          type: 'SET-USER',\n          user: null\n        })\n      }\n    })\n  }, [])\n\n  return (\n\n    <Router>\n      <div className=\"App\">\n\n        <Switch>\n        <Route path=\"/login\">\n            <Login />\n          </Route>\n\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n        \n      </div>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './Reducer';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}