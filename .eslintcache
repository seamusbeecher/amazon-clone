[{"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/index.js":"1","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/App.js":"2","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/Reducer.js":"3","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/reportWebVitals.js":"4","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/StateProvider.js":"5","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/firebase.js":"6","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Home.js":"7","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Header.js":"8","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Login.js":"9","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Checkout.js":"10","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Product.js":"11","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Subtotal.js":"12","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/CheckoutProduct.js":"13","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Payment.js":"14","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/axios.js":"15","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Orders.js":"16","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Order.js":"17"},{"size":755,"mtime":1609969202204,"results":"18","hashOfConfig":"19"},{"size":1911,"mtime":1610473544006,"results":"20","hashOfConfig":"19"},{"size":1465,"mtime":1609969488204,"results":"21","hashOfConfig":"19"},{"size":362,"mtime":1609196248811,"results":"22","hashOfConfig":"19"},{"size":486,"mtime":1609196248808,"results":"23","hashOfConfig":"19"},{"size":630,"mtime":1609969065137,"results":"24","hashOfConfig":"19"},{"size":16835,"mtime":1610477168191,"results":"25","hashOfConfig":"19"},{"size":2873,"mtime":1610475803848,"results":"26","hashOfConfig":"19"},{"size":2449,"mtime":1610477004903,"results":"27","hashOfConfig":"19"},{"size":1359,"mtime":1610049223142,"results":"28","hashOfConfig":"19"},{"size":1381,"mtime":1610477839109,"results":"29","hashOfConfig":"19"},{"size":1280,"mtime":1610049107039,"results":"30","hashOfConfig":"19"},{"size":1256,"mtime":1610049220910,"results":"31","hashOfConfig":"19"},{"size":5749,"mtime":1610048912902,"results":"32","hashOfConfig":"19"},{"size":256,"mtime":1609713228459,"results":"33","hashOfConfig":"19"},{"size":1205,"mtime":1609971175464,"results":"34","hashOfConfig":"19"},{"size":1282,"mtime":1609971367731,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"yx3jtk",{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"38"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"38"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"38"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/index.js",[],["76","77"],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/App.js",["78","79"],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/Reducer.js",["80"],"// Basket array and user login\nexport const initialState = {\n    basket: [],\n    user: null\n};\n\n// Selector -- Calculate price total\nexport const getBasketTotal = (basket) => \n        basket.reduce((amount, item) => item.price + amount, 0);\n\nconst reducer = (state, action) => {\n\n    // \n    console.log(action);\n\n    switch(action.type) {\n        // Adding item to basket\n        case 'ADD-TO-BASKET':\n            return {\n                ...state,\n                basket: [...state.basket, action.item],\n            };\n\n        // \n        case 'EMPTY-BASKET':\n            return {\n                ...state,\n                basket: []\n            }\n\n        // Removing item from basket\n        case 'REMOVE-FROM-BASKET':\n            const index = state.basket.findIndex(\n                (basketItem) => basketItem.id === action.id\n            );\n            let newBasket = [...state.basket];\n            if (index >= 0) {\n                newBasket.splice(index, 1);\n            } else {\n                console.warn(\n                    'Can not remove product (id: ${action.id}) as it is not in basket!'\n                )\n            }\n            return {\n                ...state,\n                basket: newBasket,\n            };\n\n        // Creating new user\n        case 'SET-USER':\n            return {\n                ...state,\n                user: action.user\n            }\n\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/reportWebVitals.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/StateProvider.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/firebase.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Home.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Header.js",["81"],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Login.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Checkout.js",["82"],"import React from 'react';\nimport './Checkout.css';\nimport Subtotal from './Subtotal';\nimport { useStateValue } from '../StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { userInfo } from 'os';\n\nfunction Checkout() {\n\n    // Access to data layer\n    const [{ basket, user }] = useStateValue();\n\n    // console.log('Items in the basket', basket);\n\n    return (\n        <div className='checkout'>\n\n            <div className='checkout-left'>\n                <img className='checkout-ad' src='https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg' alt=''/>\n\n                <div>\n                     <h3>Hello, {user?.email}</h3> {/*Optional Chaining shows error */}\n                    <h2 className='checkout-title'> Your Shopping Basket </h2>\n\n                    {basket.map(item => (\n                        <CheckoutProduct \n                            id={item.id}\n                            title={item.title}\n                            image={item.image}\n                            price={item.price} \n                            rating={item.rating}\n                        />\n                    ))}\n                </div>\n            </div>\n\n            <div className='checkout-right'>\n                <Subtotal />\n            </div>\n\n        </div>\n    )\n}\n\nexport default Checkout\n","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Product.js",["83"],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Subtotal.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/CheckoutProduct.js",["84"],"import React from 'react'\nimport './CheckoutProduct.css'\nimport { useStateValue } from '../StateProvider';\n\nfunction CheckoutProduct({id, image, title, price, rating, hideButton}) {\n\n    // Access to data layer\n    const [{basket}, dispatch] = useStateValue();\n\n    const removeFromBasket = () => {\n        dispatch ({\n            type: 'REMOVE-FROM-BASKET',\n            id: id,\n        })\n    }\n\n    return (\n        <div className='CheckoutProduct'>\n            <img className='checkoutProduct-img' src={image} alt=''/>\n\n            <div className='checkoutProduct-info'>\n                <p className='checkoutProduct-title'> {title} </p>\n\n                <p className='checkoutProduct-price'> \n                    <small> $ </small>\n                    <strong> {price} </strong>\n                </p>\n\n                <div className='checkoutProduct-rating'>\n                    {Array(rating)\n                    .fill()\n                    .map(() => (\n                        <p>‚≠ê</p>\n                    ))}\n                </div>\n                {!hideButton && (\n                    <button onClick={removeFromBasket}> Remove from Basket </button>\n                )}   \n            </div>\n\n        </div>\n    )\n}\n\nexport default CheckoutProduct\n","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Payment.js",["85","86"],"import React, { useState, useEffect } from 'react'\nimport './Payment.css'\nimport { useStateValue } from '../StateProvider';\nimport CheckoutProduct from './CheckoutProduct';\nimport { Link, useHistory } from 'react-router-dom';\nimport { CardElement, useStripe, useElements, Elements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from '../Reducer';\nimport axios from '../axios';\nimport { db } from '../firebase';\n\nfunction Payment() {\n\n    // Access to data layer\n    const [{ basket, user}, dispatch] = useStateValue();\n    // useHistory Hook\n    const history = useHistory();\n\n    // Stripe access\n    const stripe = useStripe();\n    const elements = useElements();\n\n    // Processing payment variables\n    const [error, setError] = useState(null);\n    const [disabled, setDisabled] = useState(true);\n    const [succeeded, setSucceeded] = useState(false);\n    const [processing, setProcessing] = useState('');\n    const [clientSecret, setClientSecret] = useState(true);\n\n    // \n    useEffect(() => {\n        //Generate stripe secret, allows to charge customer\n        const getClientSecret = async () => {\n            const response = await axios({\n                    method: 'post',\n                    //Stripe expects the total in a currencies subnunits\n                    url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n            });\n            setClientSecret(response.data.clientSecret)\n        }\n        getClientSecret();\n    }, [basket])\n\n    console.log('The secret is >>> ', clientSecret);\n\n    //Stripe\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setProcessing(true);\n        const payload = await stripe.confirmCardPayment(clientSecret, {\n            payment_method: {\n                card: elements.getElement(CardElement)\n            }\n        }).then(({ paymentIntent }) => {\n            //paymentIntent = payment confirmation\n            // Push into database\n            db.collection('users')\n            .doc(user.uid)\n            .collection('orders')\n            .doc(paymentIntent.id)\n            .set({\n                basket: basket,\n                amount: paymentIntent.amount,\n                created: paymentIntent.created\n            })\n\n            setSucceeded(true);\n            setError(null);\n            setProcessing(false);\n\n            dispatch({\n                type: 'EMPY-BASKET'\n            })\n\n            history.replace('/orders')\n        })\n    }\n\n    const handleChange = event => {\n        //Listen for changes in CardElement, then display any errors with card details\n        setDisabled(event.empty);\n        setError(event.error ? event.error.message : '');\n    }\n\n    return (\n        <div className='payment'>\n            <div className='payment-container'>\n\n                <h1>\n                    Checkout (<Link to='/checkout'>{basket.length} items</Link>)\n                </h1>\n\n                {/* Payment section -- delivery address */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Delivery Address</h3>\n                    </div>\n                    <div className='payment-address'>\n                        <p>{user?.email}</p> {/*Optional Chaining shows error */}\n                        <p>123 React Lane</p>\n                        <p>Charlotte, NC</p>\n                    </div>\n\n                </div>\n\n                {/* Payment section -- review items */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Review items and delivery</h3>\n                    </div>\n                    <div className='payment-items'>\n                        {basket.map(item => (\n                            <CheckoutProduct \n                                id={item.id}\n                                title={item.title}\n                                image={item.image}\n                                price={item.price}\n                                rating={item.rating}\n                            />\n                        ))}\n                    </div>\n\n                </div>\n\n                {/* Payment section -- payment method */}\n                <div className='payment-section'>\n                    <div className='payment-title'>\n                        <h3>Payment Method</h3>\n                    </div>\n                    <div className='payment-details'>\n                        {/* Stripe */}\n                        <form onSubmit={handleSubmit}>\n                            <CardElement onChange={handleChange}/>\n\n                            <div className='payment-priceContainer'>\n                            <CurrencyFormat\n                                renderText={(value) => (\n                                    <h3>Order Total: {value} </h3>\n                                )}\n                                decimalScale={2}\n                                value={getBasketTotal(basket)}\n                                displayType={\"text\"}\n                                thousandSeparator={true}\n                                prefix={\"$\"}\n                            />\n\n                            <button disabled={processing || disabled || succeeded}>\n                                <span>{processing ? <p>Processing</p> : 'Buy Now'}</span>\n                            </button>\n                            </div>\n\n                            {/* ERROR */}\n                            {error && <div>{error}</div>}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Payment\n","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/axios.js",[],"/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Orders.js",["87","88"],"import React, { useState, useEffect } from 'react';\nimport './Orders.css';\nimport { db } from '../firebase';\nimport { useStateValue } from '../StateProvider';\nimport Order from './Order';\n\nfunction Orders() {\n\n    // Access to data layer\n    const [{ basket, user }, dispatch] = useStateValue();\n    // useState Hook -- Array of orders\n    const [orders, setOrders] = useState([]);\n\n    // useEffect Hook -- Push order to database\n    useEffect(() => {\n        if (user) {\n            db.collection('users')\n            .doc(user.uid)\n            .collection('orders')\n            .orderBy('created', 'desc')\n            .onSnapshot(snapshot => (\n                setOrders(snapshot.docs.map(doc => ({\n                    id: doc.id,\n                    data: doc.data()\n                })))\n            ))\n        } else {\n            setOrders([])\n        }\n    }, [user])\n\n    return (\n        <div className='orders'>\n            <h1>Your Orders</h1>\n            <div className='orders-order'>\n                {orders.map(order => (\n                    // Order Component \n                    <Order order={order} />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n","/Users/seamusbeecher/Downloads/CODE/React/amazon-clone-git/amazon-clone/src/components/Order.js",[],{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"93","severity":1,"message":"94","line":20,"column":10,"nodeType":"95","messageId":"96","endLine":20,"endColumn":13},{"ruleId":"97","severity":1,"message":"98","line":39,"column":6,"nodeType":"99","endLine":39,"endColumn":8,"suggestions":"100"},{"ruleId":"101","severity":1,"message":"102","line":41,"column":21,"nodeType":"103","messageId":"104","endLine":41,"endColumn":88},{"ruleId":"105","severity":1,"message":"106","line":11,"column":30,"nodeType":"107","messageId":"108","endLine":11,"endColumn":38},{"ruleId":"105","severity":1,"message":"109","line":6,"column":10,"nodeType":"107","messageId":"108","endLine":6,"endColumn":18},{"ruleId":"105","severity":1,"message":"110","line":8,"column":13,"nodeType":"107","messageId":"108","endLine":8,"endColumn":19},{"ruleId":"105","severity":1,"message":"110","line":8,"column":13,"nodeType":"107","messageId":"108","endLine":8,"endColumn":19},{"ruleId":"105","severity":1,"message":"111","line":6,"column":47,"nodeType":"107","messageId":"108","endLine":6,"endColumn":55},{"ruleId":"105","severity":1,"message":"112","line":50,"column":15,"nodeType":"107","messageId":"108","endLine":50,"endColumn":22},{"ruleId":"105","severity":1,"message":"110","line":10,"column":14,"nodeType":"107","messageId":"108","endLine":10,"endColumn":20},{"ruleId":"105","severity":1,"message":"106","line":10,"column":30,"nodeType":"107","messageId":"108","endLine":10,"endColumn":38},"no-native-reassign",["113"],"no-negated-in-lhs",["114"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["115"],"no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'userInfo' is defined but never used.","'basket' is assigned a value but never used.","'Elements' is defined but never used.","'payload' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"116","fix":"117"},"Update the dependencies array to be: [dispatch]",{"range":"118","text":"119"},[1231,1233],"[dispatch]"]